<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>GOOD LUCK TOMATO 抽牌系統</title>
  <style>
    body {
      font-family: "Noto Serif TC", serif;
      background-color: #fffaf8;
      color: #5e0303;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    h1 {
      font-size: 3em;
      margin-top: 60px;
    }
    .button-container {
      margin-top: 30px;
    }
    button {
      font-family: "Noto Serif TC", serif;
      font-size: 1em;
      padding: 10px 20px;
      margin: 10px;
      border: 1px solid #5e0303;
      background-color: transparent;
      color: #5e0303;
      cursor: pointer;
    }
    #card-area, #spread-area {
      display: none;
      margin-top: 40px;
    }
    .card-back {
      width: 60px;
      height: 100px;
      margin: 5px;
      background-color: #5e0303;
      display: inline-block;
      border-radius: 6px;
      cursor: pointer;
    }
    .spread-slot {
      display: inline-block;
      width: 100px;
      height: 160px;
      border: 2px solid #5e0303;
      border-radius: 10px;
      margin: 10px;
      line-height: 160px;
      font-size: 2em;
      vertical-align: top;
      background-color: #fff;
      color: #5e0303;
    }
    .label-row {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div id="home">
    <h1>GOOD LUCK TOMATO</h1>
    <p>線上抽牌系統</p>
    <div class="button-container">
      <button onclick="goToDraw('timeflow')">時間之流</button>
      <!-- 可加更多選項 -->
    </div>
    <p style="margin-top: 60px; font-size: 0.8em">INSTAGRAM : GOOD LUCK TOMATO</p>
  </div>

  <div id="card-area">
    <h2>請從下方選擇 5 張牌</h2>
    <div id="card-deck"></div>
  </div>

  <div id="spread-area">
    <h2>36 張牌圖示</h2>
    <div id="spread">
      <div class="spread-slot" id="slot1">1</div>
      <div class="spread-slot" id="slot2">2</div>
      <div class="spread-slot" id="slot3">3</div>
      <div class="spread-slot" id="slot4">4</div>
      <div class="spread-slot" id="slot5">5</div>
    </div>
    <div class="label-row">
      <span>過</span><span style="margin: 0 50px;">去</span><span style="margin: 0 50px;">現在</span><span style="margin: 0 50px;">未來</span><span style="margin: 0 50px;">心</span><span style="margin: 0 10px;">態</span>
    </div>
  </div>

  <script>
    const deck = [];
    for (let i = 1; i <= 78; i++) {
      deck.push({ id: i, reversed: Math.random() > 0.5 });
    }
    let selected = [];

    function goToDraw(type) {
      document.getElementById("home").style.display = "none";
      document.getElementById("card-area").style.display = "block";
      const container = document.getElementById("card-deck");
      container.innerHTML = "";
      deck.forEach(card => {
        const div = document.createElement("div");
        div.className = "card-back";
        div.onclick = () => selectCard(card, div);
        container.appendChild(div);
      });
    }

    function selectCard(card, element) {
      if (selected.length >= 5 || selected.includes(card)) return;
      selected.push(card);
      element.style.visibility = "hidden";
      if (selected.length === 5) showSpread();
    }

    function showSpread() {
      document.getElementById("card-area").style.display = "none";
      document.getElementById("spread-area").style.display = "block";
      selected.forEach((card, index) => {
        const slot = document.getElementById(`slot${index + 1}`);
        slot.innerHTML = `${card.id}${card.reversed ? "<br>逆位" : "<br>正位"}`;
      });
    }
  </script>
</body>
</html>
